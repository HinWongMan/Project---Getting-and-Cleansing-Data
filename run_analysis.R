Xtrain = read.table("train/X_train.txt")
Xtest = read.table("test/X_test.txt")
data = rbind(Xtrain, Xtest)
features = read.table("features.txt")
colnames(data) = t(features[2])
data2 = data[,grep("mean\\(\\)|std\\(\\)", colnames(data))]
library(dplyr)
Ytrain = read.table("train/y_train.txt")
Ytest = read.table("test/y_test.txt")
Y = rbind(Ytrain, Ytest)
activityLabel = read.table("activity_labels.txt")
data2$activity = left_join(Y, activityLabel, type = "inner")[2]
colnames(data2$activity) = "activity"
Subjecttrain = read.table("train/subject_train.txt")
Subjecttest = read.table("test/subject_test.txt")
data2$subject = rbind(Subjecttrain, Subjecttest)
colnames(data2$subject) = "subject"
colnames(data2) = gsub("BodyBody", "Body", colnames(data2))
colnames(data2) = gsub("-mean\\(\\)", "Mean", colnames(data2))
colnames(data2) = gsub("-std\\(\\)", "StandardDeviation", colnames(data2))
colnames(data2) = gsub("-", "Of", colnames(data2))
colnames(data2) = gsub("Mag", "Magitude", colnames(data2))
colnames(data2) = gsub("Jerk", "JerkSignal", colnames(data2))
colnames(data2) = gsub("Acc", "Accelerometer", colnames(data2))
colnames(data2) = gsub("Gyro", "Gyroscope", colnames(data2))
data2$activity = unlist(data2$activity)
data2$subject = unlist(data2$subject)
data3 = aggregate(data2[1:68], list(data2$subject, data2$activity), mean)
write.table(data3, "FinalData.txt", row.name = FALSE)
